import{o as l,c as d,a as s,d as v,t as h,r as b,w as E,b as x,v as S,e as T,f as A,g as V,h as B,i as P,u as r,j as u,k as p,p as R,l as O,m as f,n as H,F as M,q as W,s as $,R as m,x as j,y as q}from"./vendor.e2505d6a.js";const F=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(t){if(t.ep)return;t.ep=!0;const i=n(t);fetch(t.href,i)}};F();const D="modulepreload",C={},J="/",Y=function(e,n){return!n||n.length===0?e():Promise.all(n.map(a=>{if(a=`${J}${a}`,a in C)return;C[a]=!0;const t=a.endsWith(".css"),i=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${i}`))return;const c=document.createElement("link");if(c.rel=t?"stylesheet":D,t||(c.as="script",c.crossOrigin=""),c.href=a,document.head.appendChild(c),t)return new Promise((L,U)=>{c.addEventListener("load",L),c.addEventListener("error",U)})})).then(()=>e())};var k=(o,e)=>{const n=o.__vccOpts||o;for(const[a,t]of e)n[a]=t;return n};const z={},K={class:"section"},G=s("h1",{class:"title"},"Home Page",-1),Q=[G];function X(o,e){return l(),d("div",K,Q)}var Z=k(z,[["render",X]]);const ss={class:"section"},ts={class:"title"},g=v({props:{title:{type:String,default:"Hello World"}},setup(o){const e=o;return(n,a)=>(l(),d("div",ss,[s("h1",ts,h(e.title),1)]))}}),es={class:"section"},os={class:"columns"},ns={class:"column is-half is-offset-one-quarter"},as={class:"card"},is=["onSubmit"],cs=s("h1",{class:"title"},"Login Page",-1),rs={class:"field"},ls={class:"control has-icons-left has-icons-right"},ds=s("span",{class:"icon is-small is-left"},[s("i",{class:"fas fa-envelope"})],-1),us=s("span",{class:"icon is-small is-right"},[s("i",{class:"fas fa-check"})],-1),_s={class:"field"},ps={class:"control has-icons-left"},hs=s("span",{class:"icon is-small is-left"},[s("i",{class:"fas fa-lock"})],-1),vs=s("div",{class:"field"},[s("p",{class:"control"},[s("button",{class:"button is-success"}," Login ")])],-1),fs=v({setup(o){const e=b(""),n=b("");function a(){$s(e.value,n.value)}return(t,i)=>(l(),d("div",es,[s("div",os,[s("div",ns,[s("div",as,[s("form",{class:"card-content",onSubmit:E(a,["prevent"])},[cs,s("div",rs,[s("p",ls,[x(s("input",{class:"input",type:"email",placeholder:"Email","onUpdate:modelValue":i[0]||(i[0]=c=>e.value=c)},null,512),[[S,e.value]]),ds,us])]),s("div",_s,[s("p",ps,[x(s("input",{class:"input",type:"password",placeholder:"Password","onUpdate:modelValue":i[1]||(i[1]=c=>n.value=c)},null,512),[[S,n.value]]),hs])]),vs],40,is)])])])]))}}),ms=[{path:"/",component:Z},{path:"/about",component:g,props:{title:"About Page"}},{path:"/contact",component:g,props:{title:"Contact Page"}},{path:"/login",component:fs},{path:"/signup",component:g,props:{title:"Signup Page"}},{path:"/wall",component:()=>Y(()=>import("./Wall.2c3af12c.js"),["assets/Wall.2c3af12c.js","assets/Wall.a0b51b7e.css","assets/vendor.e2505d6a.js"])},{path:"/hidden",component:g,props:{title:"You reached the Hidden Page"}}],w=T({history:A(),routes:ms,linkActiveClass:"is-active"});w.beforeEach((o,e)=>{if(_.destinationURL==null&&o.path!=="/login"&&(_.destinationURL=o.path),["/wall","/feed","hidden"].includes(o.path)&&(console.log("requires login"),!_.user))return"/login"});const N=V("message",{state:()=>({notifications:[{type:"primary",message:"This is a primary notification"},{type:"link",message:"This is a link notification"},{type:"success",message:"Yay you did it!"},{type:"warning",message:"Uh Oh! Watch out!"},{type:"danger",message:"I cant believe you just did that!"}]}),actions:{close(o){this.notifications.splice(o,1)}}}),gs="http://localhost:3001/api/";function bs(o,e,n,a){let t={};return e&&(t={method:n!=null?n:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),fetch(gs+o,t).then(i=>i.json())}const y=B({user:null,destinationURL:null});async function $s(o,e){var a;const n=N();try{const t=await bs("users/login",{email:o,password:e});t&&(n.notifications.push({type:"success",message:`Welcome back ${t.firstName}`}),y.user=t,w.push((a=y.destinationURL)!=null?a:"/wall"))}catch(t){n.notifications.push({type:"danger",message:t.message})}}function ys(){y.user=null,w.push("/login")}var _=y;const I=o=>(R("data-v-75816dca"),o=o(),O(),o),ws={key:0,class:"buttons"},ks=I(()=>s("strong",null,"Sign up",-1)),Ls=f(" Log in "),xs={key:1,class:"buttons"},Ss={class:"avatar"},Cs=["src"],Ps=I(()=>s("br",null,null,-1)),Rs=v({setup(o){return(e,n)=>{const a=P("router-link");return r(_).user?(l(),d("div",xs,[s("div",Ss,[s("img",{src:r(_).user.pic},null,8,Cs),s("div",null,[s("strong",null,h(r(_).user.firstName)+" "+h(r(_).user.lastName),1),Ps,s("i",null,h(r(_).user.email),1)])]),s("a",{class:"button is-primary",onClick:n[0]||(n[0]=t=>r(ys)())}," Log out ")])):(l(),d("div",ws,[u(a,{class:"button is-primary",to:"/signup"},{default:p(()=>[ks]),_:1}),u(a,{class:"button is-light",to:"/login"},{default:p(()=>[Ls]),_:1})]))}}});var Os=k(Rs,[["__scopeId","data-v-75816dca"]]);const Ns=o=>(R("data-v-2bb2f992"),o=o(),O(),o),Is=Ns(()=>s("span",{class:"icon"},[s("i",{class:"fas fa-bell"})],-1)),Us={key:0,class:"tag is-danger"},Es={class:"navbar-dropdown"},Ts=["onClick"],As=v({setup(o){const e=N(),n=b(!1);return(a,t)=>(l(),d("div",null,[s("div",{class:$(["navbar-item has-dropdown",{"is-active":n.value}])},[s("a",{class:"navbar-link",onClick:t[0]||(t[0]=i=>n.value=!n.value)},[Is,r(e).notifications.length?(l(),d("span",Us,h(r(e).notifications.length),1)):H("",!0)]),s("div",Es,[(l(!0),d(M,null,W(r(e).notifications,(i,c)=>(l(),d("div",{class:$(`notification is-light is-${i.type}`),key:c},[s("button",{class:"delete",onClick:L=>r(e).close(c)},null,8,Ts),f(" "+h(i.message),1)],2))),128))])],2)]))}});var Vs=k(As,[["__scopeId","data-v-2bb2f992"]]);const Bs={class:"navbar is-info",role:"navigation","aria-label":"main navigation"},Hs={class:"container"},Ms={class:"navbar-brand"},Ws=s("a",{class:"navbar-item",href:"https://bulma.io"},[s("img",{src:"https://bulma.io/images/bulma-logo.png",width:"112",height:"28"})],-1),js=s("span",{"aria-hidden":"true"},null,-1),qs=s("span",{"aria-hidden":"true"},null,-1),Fs=s("span",{"aria-hidden":"true"},null,-1),Ds=[js,qs,Fs],Js={class:"navbar-start"},Ys=f(" Home "),zs=f(" Wall "),Ks={class:"navbar-item has-dropdown is-hoverable"},Gs=s("a",{class:"navbar-link"}," More ",-1),Qs={class:"navbar-dropdown"},Xs=f(" About "),Zs=s("a",{class:"navbar-item"}," Jobs ",-1),st=f(" Contact "),tt=s("hr",{class:"navbar-divider"},null,-1),et=s("a",{class:"navbar-item"}," Report an issue ",-1),ot={class:"navbar-end"},nt={class:"navbar-item"},at=s("div",{class:"navbar-item"},[s("a",{class:"bd-tw-button button","data-social-network":"Twitter","data-social-action":"tweet","data-social-target":"https://bulma.io",target:"_blank",href:"https://twitter.com/intent/tweet?text=Bulma: a modern CSS framework based on Flexbox&hashtags=bulmaio&url=https://bulma.io&via=jgthms"},[s("span",{class:"icon"},[s("i",{class:"fab fa-twitter"})]),s("span",null," Tweet ")])],-1),it=v({setup(o){const e=b(!1);return(n,a)=>(l(),d("nav",Bs,[s("div",Hs,[s("div",Ms,[Ws,s("a",{role:"button",class:$(["navbar-burger",{"is-active":e.value}]),"aria-label":"menu","aria-expanded":"false",onClick:a[0]||(a[0]=t=>e.value=!e.value)},Ds,2)]),s("div",{class:$(["navbar-menu",{"is-active":e.value}])},[s("div",Js,[u(r(m),{to:"/",class:"navbar-item"},{default:p(()=>[Ys]),_:1}),u(r(m),{to:"/wall",class:"navbar-item"},{default:p(()=>[zs]),_:1}),s("div",Ks,[Gs,s("div",Qs,[u(r(m),{to:"/about",class:"navbar-item"},{default:p(()=>[Xs]),_:1}),Zs,u(r(m),{class:"navbar-item",to:"/contact"},{default:p(()=>[st]),_:1}),tt,et])])]),s("div",ot,[s("div",nt,[u(Os)]),u(Vs),at])],2)])]))}}),ct={class:"container"},rt=v({setup(o){return(e,n)=>{const a=P("router-view");return l(),d("div",null,[u(it),s("div",ct,[u(a)])])}}});j(rt).use(w).use(q()).mount("#app");export{bs as a};
